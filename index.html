<!DOCTYPE html>
<html lang="en">
  <head>
    <title>New York City Sewer Data</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- CSS STYLESHEETS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <link
      rel="stylesheet"
      href="node_modules/leaflet-search/src/leaflet-search.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="node_modules/leaflet-groupedlayercontrol/dist/leaflet.groupedlayercontrol.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="node_modules/leaflet.zoomhome/src/css/leaflet.zoomhome.css"
    />
    <link
      rel="stylesheet"
      href="node_modules/leaflet-sidebar-v2/css/leaflet-sidebar.min.css"
    />
    <link
      rel="stylesheet"
      href="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css"
    />
    <link
      rel="stylesheet"
      href="node_modules/leaflet-draw/dist/leaflet.draw.css"
    />
    <!-- JS SCRIPTS -->
    <!-- User Scripts -->
    <script defer src="js/functions.js"></script>
    <script defer src="js/styles.js"></script>
    <script defer src="js/scripts.js"></script>
    <!-- CDN and NPM Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
    <script src="node_modules/leaflet-search/src/leaflet-search.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="node_modules/leaflet-groupedlayercontrol/dist/leaflet.groupedlayercontrol.min.js"></script>
    <script src="node_modules/leaflet.zoomhome/dist/leaflet.zoomhome.js"></script>
    <script src="node_modules/leaflet-makimarkers/Leaflet.MakiMarkers.js"></script>
    <script src="node_modules/leaflet-sidebar-v2/js/leaflet-sidebar.min.js"></script>
    <script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js"></script>
    <script src="node_modules/leaflet-draw/dist/leaflet.draw.js"></script>
    <script src="https://unpkg.com/@turf/turf@6.3.0/turf.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
  </head>

  <body>
    <div class="container-fluid d-flex flex-column vh-100 overflow-hidden">
      <!-- HEADER -->
      <div class="header bg-light">
        <h1 class="text-center unselectable">New York City Sewer Data</h1>
      </div>
      <div id="middle-container" class="row d-flex flex-grow-1 overflow-hidden">
        <!-- NEIGHBORHOOD PANEL -->
        <div
          id="nbhd-container"
          class="
            panel
            col-2
            pb-2
            border
            mh-100
            d-flex
            flex-column
            overflow-hidden
          "
        >
          <div id="nbhd-header" class="row bg-dark py-2 unselectable">
            <h4 class="col text-white text-center">Neighborhoods</h4>
          </div>
          <ul
            id="nbhd-list"
            class="row list-group flex-nowrap overflow-auto"
          ></ul>
        </div>
        <!-- LEAFLET MAP -->
        <div id="map-container" class="col">
          <div id="mapid"></div>
        </div>
        <!-- LEAFLET SIDEBAR -->
        <div id="sidebar" class="leaflet-sidebar collapsed bg-white">
          <!-- Sidebar Tabs -->
          <div class="leaflet-sidebar-tabs">
            <ul role="tablist">
              <li title="Introduction">
                <a href="#intro" role="tab"
                  ><i class="fas fa-star-of-life pl-1"></i
                ></a>
              </li>
              <li title="Attributes">
                <a href="#attributes" role="tab"
                  ><i class="fa fa-bars pl-1"></i
                ></a>
              </li>
              <li title="Charts">
                <a href="#charts" role="tab"
                  ><i class="fa fa-chart-bar pl-1"></i
                ></a>
              </li>
              <li title="Pie Charts">
                <a href="#pies" role="tab"
                  ><i class="fas fa-chart-pie pl-1"></i
                ></a>
              </li>
            </ul>
            <ul role="tablist">
              <li title="Information">
                <a href="#info" role="tab"
                  ><i class="far fa-question-circle pl-1"></i
                ></a>
              </li>
              <li title="Contacts">
                <a href="#contact" role="tab"
                  ><i class="fas fa-user pl-1"></i
                ></a>
              </li>
            </ul>
          </div>
          <!-- Sidebar Content -->
          <div class="leaflet-sidebar-content">
            <!-- Introduction -->
            <div id="intro" class="leaflet-sidebar-pane">
              <h1 class="leaflet-sidebar-header">
                Introduction
                <div class="leaflet-sidebar-close">
                  <i class="fa fa-caret-right"></i>
                </div>
              </h1>
              <div
                class="leaflet-sidebar-inner p-1 m-1"
                style="line-height: 100%"
              >
                <h6>
                  &emsp; More than two-thirds of New York City's sewer system is
                  a combined system where rainwater runoff, domestic sewage and
                  industrial wastewater are collected in the same pipe and
                  treated together at a wastewater treatment plant. During
                  periods of heavy rainfall or snowmelt, the wastewater can
                  exceed the capacity of the system or treatment plant and the
                  excess wastewater is discharged directly to nearby streams,
                  rivers, or other bodies of water.
                  <br />
                  &emsp; In 2010, the cityâ€™s Department of Environmental
                  Protection implemented the NYC Green Infrastructure
                  Program which uses manufactured landscapes to mimic natural
                  systems in managing stormwater runoff. Some examples include
                  rain gardens, stormwater greenstreets, green roofs and
                  permeable paving.
                  <br />
                  &emsp; The purpose of this map is to provide a comprehensive
                  visualization of green infrastructure and sewer data at the
                  neighborhood level. Its interactivity allows for the user to
                  select and compare attributes of multiple areas.
                </h6>
              </div>
            </div>
            <!-- Attributes -->
            <div id="attributes" class="leaflet-sidebar-pane">
              <h1 class="leaflet-sidebar-header">
                Attributes
                <div class="leaflet-sidebar-close">
                  <i class="fa fa-caret-right"></i>
                </div>
              </h1>
              <ul id="attr-list" class="leaflet-sidebar-inner list-group">
                <h6 id="attr-blank" class="p-2">
                  Select one neighborhood or multiple neighborhood polygons to
                  view their properties.
                </h6>
              </ul>
            </div>
            <!-- Charts & Graphs -->
            <div id="charts" class="leaflet-sidebar-pane">
              <h1 class="leaflet-sidebar-header">
                Charts & Graphs
                <div class="leaflet-sidebar-close">
                  <i class="fa fa-caret-right"></i>
                </div>
              </h1>
              <div id="charts-container" class="leaflet-sidebar-inner">
                <h6 id="charts-blank" class="p-2">
                  Use the polygon selector tools to view charts comparing data
                  between selected neighborhoods.
                </h6>
              </div>
            </div>
            <!-- Pie Charts -->
            <div id="pies" class="leaflet-sidebar-pane">
              <h1 class="leaflet-sidebar-header">
                Pie Charts
                <div class="leaflet-sidebar-close">
                  <i class="fa fa-caret-right"></i>
                </div>
              </h1>
              <div id="pie-container" class="leaflet-sidebar-inner">
                <h6 id="pie-blank" class="p-2">
                  Select a polygon or use the polygon selector tools to view a
                  pie chart comparing the selected neighborhoods' pervious and
                  impervious land areas.
                </h6>
              </div>
            </div>
            <!-- Information -->
            <div id="info" class="leaflet-sidebar-pane">
              <h1 class="leaflet-sidebar-header">
                Information
                <div class="leaflet-sidebar-close">
                  <i class="fa fa-caret-right"></i>
                </div>
              </h1>
              <div id="info-container" class="leaflet-sidebar-inner">
                <h6 class="p-2">
                  Neighborhood polygons are actually
                  <a
                    href="https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-nynta.page"
                    target="_blank"
                    rel="noreferrer noopener"
                  >
                    neighborhood tabulation areas</a
                  >.
                </h6>
                <h6 class="p-2">
                  This web map was written in JavaScript Node.js with the
                  <a
                    href="https://jquery.com"
                    target="_blank"
                    rel="norefferer noopener"
                    >jQuery</a
                  >,
                  <a
                    href="https://leafletjs.com"
                    target="_blank"
                    rel="norefferer noopener"
                  >
                    Leaflet</a
                  >,
                  <a
                    href="https://turfjs.org"
                    target="_blank"
                    rel="noreferrer noopener"
                    >Turf</a
                  >, and
                  <a
                    href="https://d3js.org"
                    target="_blank"
                    rel="noreferrer noopener"
                    >D3</a
                  >
                  packages. Basemap imagery provided by
                  <a
                    href="https://www.mapbox.com"
                    target="_blank"
                    rel="noreferrer noopener"
                    >Mapbox</a
                  >
                  and
                  <a
                    href="https://www.openstreetmap.org"
                    target="_blank"
                    rel="noreferrer noopener"
                    >OpenStreetMap</a
                  >
                  contributors. The datasets were gathered from various city
                  agencies and compiled using
                  <a
                    href="https://www.postgresql.org"
                    target="_blank"
                    rel="noreferrer noopener"
                    >PostgreSQL</a
                  >.
                </h6>
                <h6 class="px-2 mb-0">Data Sources:</h6>
                <ul id="sources" class="m-0 px-3">
                  <li>
                    <a
                      href="https://openseweratlas.tumblr.com"
                      target="_blank"
                      rel="noreferrer noopener"
                      >Open Sewer Atlas NYC</a
                    >
                  </li>
                  <li>
                    NYC Departments of:
                    <ul class="px-4">
                      <li>
                        <a
                          href="https://www1.nyc.gov/site/planning/index.page"
                          target="_blank"
                          rel="noreferrer noopener"
                          >~ City Planning</a
                        >
                      </li>
                      <li>
                        <a
                          href="https://www1.nyc.gov/site/dep/index.page"
                          target="_blank"
                          rel="noreferrer noopener"
                          >~ Environmental Protection</a
                        >
                      </li>
                      <li>
                        <a
                          href="https://www1.nyc.gov/site/doitt/index.page"
                          target="_blank"
                          rel="noreferrer noopener"
                          >~ Information Technology & Telecommunications</a
                        >
                      </li>
                      <li>
                        <a
                          href="https://www.nycgovparks.org/"
                          target="_blank"
                          rel="noreferrer noopener"
                          >~ Parks & Recreation</a
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
            <!-- Contacts -->
            <div id="contact" class="leaflet-sidebar-pane">
              <h1 class="leaflet-sidebar-header">
                Contacts
                <div class="leaflet-sidebar-close">
                  <i class="fa fa-caret-right"></i>
                </div>
              </h1>
              <div id="contact-container" class="leaflet-sidebar-inner">
                <h6 class="p-2">
                  For more information about this application or the data,
                  contact the webpage creator
                  <a
                    href="mailto: contact@allanlu.me?subject=NYC Sewer Map Feedback&body=Message"
                  >
                    Allan Lu
                  </a>
                  or visit their GitHub at:
                  <a
                    href="https://github.com/allan-lu/map"
                    target="_blank"
                    rel="noreferrer noopener"
                    class="text-info"
                  >
                    https://github.com/allan-lu</a
                  >.
                </h6>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
